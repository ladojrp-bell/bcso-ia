<% layout('layout') %>
<h2 class="text-2xl font-semibold mb-4">Manage Users</h2>
<form method="POST" action="/admin/users/add" class="mb-4 flex flex-col gap-2 md:flex-row md:items-end">
  <input name="username" placeholder="New Username" required class="border p-2 rounded">
  <input name="password" placeholder="Password" required class="border p-2 rounded">
  <select name="role" class="border p-2 rounded">
    <option value="user">User</option>
    <option value="admin">Admin</option>
  </select>
  <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Add</button>
</form>

<table class="w-full bg-white shadow-md rounded">
  <thead>
    <tr class="bg-gray-200">
      <th class="py-2 px-4">ID</th>
      <th class="py-2 px-4">Username</th>
      <th class="py-2 px-4">Role</th>
      <th class="py-2 px-4">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% for (const user of users) { %>
      <tr class="border-t">
        <td class="py-2 px-4"><%= user.id %></td>
        <td class="py-2 px-4"><%= user.username %></td>
        <td class="py-2 px-4"><%= user.role %></td>
        <td class="py-2 px-4">
          <form method="POST" action="/admin/users/<%= user.id %>/delete" class="inline">
            <button type="submit" class="text-red-600 hover:underline">Delete</button>
          </form>
        </td>
      </tr>
    <% } %>
  </tbody>
</table>
